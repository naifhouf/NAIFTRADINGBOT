<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NAIF TRADING BOT</title>
  <style>
    :root{
      --gold:#ffd700;
      --bgDark:rgba(0,0,0,.55);
      --panel:rgba(0,0,0,.70);
      --text:#fff;
      --muted:#bdbdbd;
      --btn:#0288d1;
      --btnDisabled:#555;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      color:var(--text);
      font-family:'Segoe UI',Tahoma,Arial,sans-serif;
      text-align:center;
      -webkit-user-select:none;
      -moz-user-select:none;
      user-select:none;
      overflow-x:hidden;
    }

    /* Background video + fallback image */
    .bg-wrap{
      position:fixed; inset:0; z-index:-2; overflow:hidden;
      background:
        linear-gradient(var(--bgDark),var(--bgDark)),
        url("https://i.imgur.com/WCsy7kA.jpeg") no-repeat center/cover;
    }
    #bgVideo{
      position:absolute; min-width:100%; min-height:100%;
      top:50%; left:50%; transform:translate(-50%,-50%);
      filter:brightness(.45) contrast(1.05) saturate(1.05);
    }
    .page{
      min-height:100%;
      display:flex; align-items:center; justify-content:center;
      padding:32px 12px;
    }
    .card{
      width:min(720px,94vw);
      background:var(--panel);
      padding:28px 20px;
      border-radius:20px;
      box-shadow:0 10px 35px rgba(0,0,0,.35);
      backdrop-filter: blur(4px);
      border:1px solid rgba(255,255,255,.08);
    }
    h1{
      margin:0 0 6px; font-size:28px; color:var(--gold); letter-spacing:.5px;
    }
    .sub{
      color:var(--muted); font-size:14px; margin-bottom:18px;
    }
    input,select,button{
      width:92%; max-width:560px;
      padding:14px 16px; margin:10px 0;
      border-radius:12px; border:none; outline:0;
      font-size:17px;
    }
    input,select{background:#1f1f1f; color:#fff}
    button{background:var(--btn); color:#fff; cursor:pointer}
    button.disabled{background:var(--btnDisabled); cursor:not-allowed}
    .result{
      width:92%; max-width:560px; margin:16px auto 0;
      text-align:right; background:#1f1f1f; padding:16px;
      border-radius:12px; white-space:pre-line; min-height:160px;
      font-size:16px; line-height:1.7;
    }
    .footer{margin-top:18px; color:var(--muted); font-size:14px}
    .row{display:flex; gap:10px; justify-content:center; flex-wrap:wrap}
    .kapsule{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 12px; border-radius:999px;
      background:rgba(255,255,255,.07); color:#eee; font-size:13px;
      border:1px solid rgba(255,255,255,.06);
    }

    /* Logo */
    .logo{
      position:fixed; top:14px; left:14px; display:flex; align-items:center; gap:10px;
      padding:8px 12px; border-radius:12px; background:rgba(0,0,0,.45);
      border:1px solid rgba(255,255,255,.08);
      backdrop-filter: blur(4px);
      user-select:none;
    }
    .logo svg{width:26px; height:26px}
    .logo b{color:#fff; font-size:14px; letter-spacing:.3px}
    .badge{color:var(--gold); font-weight:600}

    @media (max-width:600px){
      h1{font-size:24px}
      input,select,button,.result{font-size:16px}
    }
  </style>
</head>
<body>

  <!-- Background video (replace src with your favorite) -->
  <div class="bg-wrap" aria-hidden="true">
    <video id="bgVideo" autoplay muted loop playsinline>
      <!-- يمكنك استبدال رابط الفيديو التالي بفيديو ذهبي الخلفية الذي تفضله -->
      <source src="https://cdn.coverr.co/videos/coverr-golden-particles-5867/1080p.mp4" type="video/mp4">
    </video>
  </div>

  <!-- Fixed logo -->
  <div class="logo" title="NAIF TRADING BOT">
    <svg viewBox="0 0 64 64" fill="none">
      <circle cx="32" cy="32" r="30" stroke="#ffd700" stroke-width="3"/>
      <path d="M18 42 L18 22 L25 22 L39 42 L46 42 L46 22" stroke="#ffd700" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    <b>NAIF <span class="badge">TRADING</span> BOT</b>
  </div>

  <!-- Password screen -->
  <div class="page" id="passwordBox">
    <div class="card">
      <h1>NAIF TRADING BOT — دخول</h1>
      <div class="sub">🔐 أدخل كلمة السر لتفعيل العضوية</div>

      <input id="passwordInput" type="password" placeholder="أدخل كلمة السر هنا" />
      <div class="row">
        <button id="loginBtn" onclick="checkPassword()">دخول</button>
        <button id="musicBtn" class="kapsule" type="button" onclick="toggleMusic()">
          🎵 تشغيل الموسيقى
        </button>
      </div>

      <div class="footer">للتواصل: <b>@najran2015</b> • © NAIF TRADING BOT</div>
    </div>
  </div>

  <!-- Main app -->
  <div class="page" id="mainContainer" style="display:none;">
    <div class="card">
      <h1>NAIF TRADING BOT — Signals 3M</h1>
      <div class="sub" id="membershipNote">🔓 العضوية: مدى الحياة | المنطقة الزمنية: 🇸🇦 Asia/Riyadh (UTC+3)</div>

      <div class="row" style="justify-content:center">
        <span class="kapsule" id="clockKsa">🕒 —:—</span>
        <button id="musicBtn2" class="kapsule" type="button" onclick="toggleMusic()">🎵 إيقاف الموسيقى</button>
      </div>

      <select id="pairSelect" aria-label="اختر الزوج">
        <option value="" disabled selected>اختر الزوج</option>
        <option value="BHD/CNY">🇧🇭 BHD/CNY 🇨🇳 OTC</option>
        <option value="USD/EGP">🇺🇸 USD/EGP 🇪🇬 OTC</option>
        <option value="USD/RUB">🇺🇸 USD/RUB 🇷🇺 OTC</option>
        <option value="USD/BDT">🇺🇸 USD/BDT 🇧🇩 OTC</option>
        <option value="USD/BRL">🇺🇸 USD/BRL 🇧🇷 OTC</option>
        <option value="EUR/USD">🇪🇺 EUR/USD 🇺🇸 OTC</option>
        <option value="AED/CNY">🇦🇪 AED/CNY 🇨🇳 OTC</option>
        <option value="USD/VND">🇺🇸 USD/VND 🇻🇳 OTC</option>
        <option value="CHF/JPY">🇨🇭 CHF/JPY 🇯🇵 OTC</option>
        <option value="USD/JPY">🇺🇸 USD/JPY 🇯🇵 OTC</option>
        <option value="EUR/CHF">🇪🇺 EUR/CHF 🇨🇭 OTC</option>
        <option value="EUR/NZD">🇪🇺 EUR/NZD 🇳🇿 OTC</option>
        <option value="USD/DZD">🇺🇸 USD/DZD 🇩🇿 OTC</option>
        <option value="EUR/GBP">🇪🇺 EUR/GBP 🇬🇧 OTC</option>
        <option value="NZD/USD">🇳🇿 NZD/USD 🇺🇸 OTC</option>
        <option value="AUD/USD">🇦🇺 AUD/USD 🇺🇸 OTC</option>
        <option value="USD/CHF">🇺🇸 USD/CHF 🇨🇭 OTC</option>
        <option value="JOD/CNY">🇯🇴 JOD/CNY 🇨🇳 OTC</option>
        <option value="AUD/CAD">🇦🇺 AUD/CAD 🇨🇦 OTC</option>
        <option value="USD/CAD">🇺🇸 USD/CAD 🇨🇦 OTC</option>
        <option value="AUD/JPY">🇦🇺 AUD/JPY 🇯🇵 OTC</option>
        <option value="USD/ARS">🇺🇸 USD/ARS 🇦🇷 OTC</option>
        <option value="EUR/TRY">🇪🇺 EUR/TRY 🇹🇷 OTC</option>
        <option value="USD/MYR">🇺🇸 USD/MYR 🇲🇾 OTC</option>
        <option value="SAR/CNY">🇸🇦 SAR/CNY 🇨🇳 OTC</option>
        <option value="USD/CNH">🇺🇸 USD/CNH 🇨🇳 OTC</option>
        <option value="GBP/USD">🇬🇧 GBP/USD 🇺🇸 OTC</option>
        <option value="CAD/JPY">🇨🇦 CAD/JPY 🇯🇵 OTC</option>
        <option value="USD/PHP">🇺🇸 USD/PHP 🇵🇭 OTC</option>
        <option value="USD/PKR">🇺🇸 USD/PKR 🇵🇰 OTC</option>
        <option value="USD/THB">🇺🇸 USD/THB 🇹🇭 OTC</option>
        <option value="AUD/CHF">🇦🇺 AUD/CHF 🇨🇭 OTC</option>
        <option value="EUR/RUB">🇪🇺 EUR/RUB 🇷🇺 OTC</option>
        <option value="QAR/CNY">🇶🇦 QAR/CNY 🇨🇳 OTC</option>
        <option value="USD/IDR">🇺🇸 USD/IDR 🇮🇩 OTC</option>
        <option value="USD/INR">🇺🇸 USD/INR 🇮🇳 OTC</option>
        <option value="YER/USD">🇾🇪 YER/USD 🇺🇸 OTC</option>
        <option value="CAD/CHF">🇨🇦 CAD/CHF 🇨🇭 OTC</option>
        <option value="NZD/JPY">🇳🇿 NZD/JPY 🇯🇵 OTC</option>
        <option value="USD/MXN">🇺🇸 USD/MXN 🇲🇽 OTC</option>
        <option value="KES/USD">🇰🇪 KES/USD 🇺🇸 OTC</option>
        <option value="LBP/USD">🇱🇧 LBP/USD 🇺🇸 OTC</option>
        <option value="NGN/USD">🇳🇬 NGN/USD 🇺🇸 OTC</option>
        <option value="ZAR/USD">🇿🇦 ZAR/USD 🇺🇸 OTC</option>
        <option value="UAH/USD">🇺🇦 UAH/USD 🇺🇸 OTC</option>
        <option value="CHF/NOK">🇨🇭 CHF/NOK 🇳🇴 OTC</option>
        <option value="MAD/USD">🇲🇦 MAD/USD 🇺🇸 OTC</option>
        <option value="USD/SGD">🇺🇸 USD/SGD 🇸🇬 OTC</option>
        <option value="OMR/CNY">🇴🇲 OMR/CNY 🇨🇳 OTC</option>
        <option value="USD/COP">🇺🇸 USD/COP 🇨🇴 OTC</option>
        <option value="USD/CLP">🇺🇸 USD/CLP 🇨🇱 OTC</option>
        <option value="EUR/JPY">🇪🇺 EUR/JPY 🇯🇵 OTC</option>
        <option value="TND/USD">🇹🇳 TND/USD 🇺🇸 OTC</option>
        <option value="EUR/HUF">🇪🇺 EUR/HUF 🇭🇺 OTC</option>
      </select>

      <button id="analyzeBtn" onclick="analyze()">🔍 تحليل السوق</button>
      <div class="result" id="result">📊 لم يتم تحليل أي صفقة بعد.</div>

      <div class="footer">للتواصل مع المطور: <b>@najran2015</b> • © NAIF TRADING BOT</div>
    </div>
  </div>

  <!-- Music -->
  <audio id="bgm" loop>
    <!-- ضع رابط موسيقى كلاسيكية إن رغبت باستبدالها -->
    <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_a3edc9c5a7.mp3?filename=moonlight-sonata-2000.mp3" type="audio/mpeg">
  </audio>

  <script>
    // ====== Basic anti-copy / anti-inspect (browser-level) ======
    document.addEventListener('contextmenu', e => e.preventDefault());
    document.addEventListener('dragstart', e => e.preventDefault());
    document.addEventListener('copy', e => e.preventDefault());
    document.addEventListener('cut', e => e.preventDefault());
    document.addEventListener('paste', e => e.preventDefault());
    document.addEventListener('keydown', (e)=>{
      const k = e.key.toLowerCase();
      if (e.ctrlKey && ['s','u','c','p','a'].includes(k)) e.preventDefault();
      if ((e.ctrlKey && e.shiftKey && ['i','j','c'].includes(k)) || k==='f12') e.preventDefault();
    });

    const $ = id => document.getElementById(id);
    const resultBox = $("result");
    const analyzeBtn = $("analyzeBtn");
    const pairSelect = $("pairSelect");
    const bgm = $("bgm");
    const musicBtns = [ $("musicBtn"), $("musicBtn2") ].filter(Boolean);

    // Password hash (SHA-256 hex of the real password). No plain password is stored.
    const PASS_HASH_HEX = [
      "c0be4f34","2cb25429","b8e6d4ef","6d2575ec",
      "bcee5d9d","f152357d","4db6e928","b1086848"
    ].join("");

    // SHA-256 → hex using Web Crypto API
    async function sha256Hex(str){
      if (!('crypto' in window) || !crypto.subtle){
        alert("يتطلب هذا التحقق متصفحًا حديثًا واتصال HTTPS.");
        throw new Error("SubtleCrypto unavailable");
      }
      const enc = new TextEncoder().encode(str);
      const buf = await crypto.subtle.digest('SHA-256', enc);
      return Array.from(new Uint8Array(buf))
        .map(b => b.toString(16).padStart(2,'0'))
        .join('');
    }

    // KSA live clock
    const clockEl = $("clockKsa");
    function tickClock(){
      const now = new Date();
      const ksa = new Date(now.toLocaleString("en-US",{timeZone:"Asia/Riyadh"}));
      const hh = String(ksa.getHours()).padStart(2,'0');
      const mm = String(ksa.getMinutes()).padStart(2,'0');
      const ss = String(ksa.getSeconds()).padStart(2,'0');
      if (clockEl) clockEl.textContent = `🕒 ${hh}:${mm}:${ss} — 🇸🇦`;
    }
    setInterval(tickClock, 1000); tickClock();

    // Remember access
    (function autologin(){
      try {
        const ok = localStorage.getItem("access_ok_v1");
        if (ok === "1") { showMain(); }
      } catch(e){}
    })();

    // Password check without revealing it
    async function checkPassword(){
      const val = $("passwordInput").value.trim().toLowerCase();
      try{
        const hex = await sha256Hex(val);
        if (hex === PASS_HASH_HEX){
          try { localStorage.setItem("access_ok_v1","1"); } catch(e){}
          showMain();
          safePlayMusic(true);
        } else {
          alert("⛔ كلمة السر غير صحيحة.");
        }
      }catch(err){
        console.error(err);
      }
    }

    function showMain(){
      $("passwordBox").style.display = "none";
      $("mainContainer").style.display = "flex";
      const note = $("membershipNote");
      if (note) note.textContent = "🔓 العضوية: مدى الحياة | المنطقة الزمنية: 🇸🇦 Asia/Riyadh (UTC+3)";
    }

    function toggleMusic(){
      if (bgm.paused){ safePlayMusic(true); }
      else { bgm.pause(); syncMusicButtons(); }
    }
    function safePlayMusic(loop=true){
      try{
        bgm.loop = loop;
        bgm.volume = 0.35;
        bgm.play().then(()=> syncMusicButtons()).catch(()=>{
          alert("للبدء بالموسيقى اضغط زر تشغيل الموسيقى.");
        });
      }catch(e){}
    }
    function syncMusicButtons(){
      musicBtns.forEach(btn=>{
        if (!btn) return;
        btn.textContent = bgm.paused ? "🎵 تشغيل الموسيقى" : "🎵 إيقاف الموسيقى";
      });
    }

    // ---- Signal generation (3 minutes expiry) ----
    function analyze(){
      const selectedPair = pairSelect.value;
      if (!selectedPair){
        alert("❗ يرجى اختيار الزوج أولًا.");
        return;
      }
      analyzeBtn.disabled = true;
      analyzeBtn.classList.add("disabled");

      let counter = 5;
      resultBox.innerText = `⌛ جاري تحليل السوق ... الرجاء الانتظار (${counter})`;
      const t = setInterval(()=>{
        counter--;
        resultBox.innerText = `⌛ جاري تحليل السوق ... الرجاء الانتظار (${counter})`;
        if (counter<=0){
          clearInterval(t);
          generateSignal(selectedPair);
          analyzeBtn.disabled = false;
          analyzeBtn.classList.remove("disabled");
        }
      },1000);
    }

    function generateSignal(pair){
      const direction = Math.random()>0.5 ? "شراء" : "بيع";
      const emoji = direction==="شراء" ? "🟩" : "🟥";

      const now = new Date();
      // Entry at the next full minute (second 00) in Riyadh time
      const ksaNow = new Date(now.toLocaleString("en-US",{timeZone:"Asia/Riyadh"}));
      const entry = new Date(ksaNow.getTime());
      entry.setSeconds(0); entry.setMilliseconds(0);
      if (ksaNow.getSeconds()>0) entry.setMinutes(entry.getMinutes()+1);

      const expiry = new Date(entry.getTime() + 3*60*1000);       // 3 minutes
      const protect1 = new Date(entry.getTime() + 60*1000);       // protection after 1 min (optional)

      const fmtTime = new Intl.DateTimeFormat('ar-EG',{hour:'2-digit',minute:'2-digit',hour12:false,timeZone:'Asia/Riyadh'});
      const fmtDate = new Intl.DateTimeFormat('ar-EG',{year:'numeric',month:'numeric',day:'numeric',timeZone:'Asia/Riyadh'});

      const strength = Math.floor(Math.random()*(97-93+1))+93;

      const signal = `
${pair}
🕘 مدة الصفقة: 3 دقائق
⏺️ الدخول عند ${fmtTime.format(entry)} (ثانية 00)
${emoji} ${direction}

🔼 مستوى الحماية
1️⃣ متابعة عند ${fmtTime.format(protect1)}

✅ قوة الإشارة: ${strength}%
📅 التاريخ: ${fmtDate.format(now)} 🇸🇦
      `;
      resultBox.innerText = signal.trim();
    }

    // Expose functions for inline handlers
    window.checkPassword = checkPassword;
    window.toggleMusic = toggleMusic;
    window.analyze = analyze;
  </script>
</body>
</html>
